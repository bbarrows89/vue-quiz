webpackJsonp([1],{"0i7P":function(e,t){},"37Vy":function(e,t){},"6A3X":function(e,t){},NHnr:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=s("7+uW"),r={render:function(){var e=this.$createElement,t=this._self._c||e;return t("v-app",{attrs:{id:"app"}},[t("h1",[this._v("Trivia-matic!")]),this._v(" "),t("router-view")],1)},staticRenderFns:[]};var i=s("VU/8")({name:"App"},r,!1,function(e){s("37Vy")},null,null).exports,o=s("/ocq"),a=s("//Fk"),u=s.n(a),c=s("mtWM"),l=s.n(c),v=l.a.create({baseURL:"//opentdb.com/api.php?"});v.interceptors.request.use(function(e){return e},function(e){return u.a.reject(e)});var d={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("h2",[this._v("Loading...")]),this._v(" "),t("div",{staticClass:"sk-folding-cube"},[t("div",{staticClass:"sk-cube1 sk-cube"}),this._v(" "),t("div",{staticClass:"sk-cube2 sk-cube"}),this._v(" "),t("div",{staticClass:"sk-cube4 sk-cube"}),this._v(" "),t("div",{staticClass:"sk-cube3 sk-cube"})])])}]};var p=s("VU/8")({name:"CubeSpinner"},d,!1,function(e){s("0i7P")},"data-v-82700d46",null).exports,f=s("e7x4"),h=s.n(f);s("6A3X");var m={name:"Quiz",components:{"load-spinner":p},data:function(){return{categories:null,currentCategory:9,difficulty:"",questions:null,quizQuestions:null,numQuestions:0,userAnswers:[],messages:[],showLoading:!1,isCorrect:[],gameOver:!1,errors:[],score:0}},created:function(){var e=this;this.$ls.get("categories")?(console.log("Cached categories found."),this.categories=this.$ls.get("categories")):(console.log("No cache available. Making API call"),this.showLoading=!0,v.get("https://opentdb.com/api_category.php").then(function(t){e.$ls.set("categories",t.data.trivia_categories),console.log("Categories have been retrieved and cached."),e.categories=t.data.trivia_categories,e.showLoading=!1}).catch(function(t){e.messages.push({type:"error",text:t.message}),e.showLoading=!1}))},methods:{shuffle:function(e){for(var t,s,n=e.length;0!==n;)s=Math.floor(Math.random()*n),t=e[n-=1],e[n]=e[s],e[s]=t;return e},getQuestions:function(e){var t=this,s=this.currentCategory,n=this.difficulty,r=this.numQuestions;l.a.get("https://opentdb.com/api.php?type=multiple&amount="+r+"&category="+s+"&difficulty="+n).then(function(e){t.questions=e.data.results,console.log("startGame"),t.quizQuestions=[];for(var s=0;s<t.questions.length;s++){var n=t.questions[s].correct_answer,r=t.questions[s].incorrect_answers;r.push(n),r=t.shuffle(r),t.quizQuestions.push({correctAnswer:n,allAnswers:r,question:t.questions[s],picked:null})}}).catch(function(e){t.errors.push(e)})},checkAnswers:function(e){this.score=0,this.isCorrect=[];for(var t=0;t<this.numQuestions;t++)this.isCorrect[t]=!1,this.userAnswers[t]===this.quizQuestions[t].correctAnswer&&(this.score++,this.isCorrect[t]=!0,this.gameOver=!0,console.log("score is "+this.score));h()("Good job!","Your score was "+this.score+" out of "+this.numQuestions,"success")}},computed:{getCatNameFromId:function(){console.log("currrent category: "+this.currentCategory);var e=this.currentCategory;return this.categories.find(function(t){return t.id===e}).name},ready:function(){if(this.difficulty&&this.numQuestions&&this.currentCategory)return!0},playing:function(){if(null!=this.questions&&this.questions.length>0)return!0}}},_={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"quiz"},[e.playing?e._e():s("div",[s("span",[e._v("Test your trivia knowledge with")]),e._v(" "),s("select",{directives:[{name:"model",rawName:"v-model",value:e.numQuestions,expression:"numQuestions"}],on:{change:function(t){var s=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.numQuestions=t.target.multiple?s:s[0]}}},[s("option",{attrs:{selected:"",disabled:"",value:"0"}},[e._v("Please select a number")]),e._v(" "),e._l(20,function(t){return s("option",{key:t,domProps:{value:t}},[e._v(e._s(t))])})],2),e._v(" "),s("select",{directives:[{name:"model",rawName:"v-model",value:e.difficulty,expression:"difficulty"}],on:{change:function(t){var s=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.difficulty=t.target.multiple?s:s[0]}}},[s("option",{attrs:{selected:"",disabled:"",value:""}},[e._v("Select a difficulty")]),e._v(" "),s("option",[e._v("easy")]),e._v(" "),s("option",[e._v("medium")]),e._v(" "),s("option",[e._v("hard")])]),e._v(" "),s("span",[e._v("questions from the following categories: ")]),e._v(" "),e.showLoading?s("load-spinner"):e._e(),e._v(" "),e.categories?s("select",{directives:[{name:"model",rawName:"v-model",value:e.currentCategory,expression:"currentCategory"}],on:{change:function(t){var s=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.currentCategory=t.target.multiple?s:s[0]}}},e._l(e.categories,function(t){return s("option",{key:t.id,domProps:{value:t.id}},[e._v(e._s(t.name))])})):e._e(),e._v(" "),s("form",{on:{submit:function(t){return t.preventDefault(),e.getQuestions(t)}}},[s("p",[e._v("You've chosen to answer "+e._s(e.numQuestions)+" "+e._s(e.difficulty)+"\n    questions from the: "),s("br"),e._v(" "+e._s(e.getCatNameFromId)+" category.")]),e._v(" "),s("transition",{attrs:{name:"bounce","enter-active-class":"bounce-enter-active","leave-active-class":"bounce-leave-active"}},[e.ready?s("v-btn",{attrs:{block:"",large:"",type:"submit"}},[e._v("Play now!")]):e._e()],1)],1)],1),e._v(" "),e.errors.length>0?s("ul",{staticClass:"errors"},e._l(e.errors,function(t){return s("li",{key:t.id},[e._v("\n      "+e._s(t.message)+"\n    ")])})):e._e(),e._v(" "),e.playing?s("div",[s("form",{on:{submit:function(t){return t.preventDefault(),e.checkAnswers(t)}}},[e._l(e.quizQuestions,function(t,n){return s("li",{key:n},[s("p",{staticClass:"questions",domProps:{innerHTML:e._s(t.question.question)}}),e._v(" "),s("ul",{attrs:{id:"answers"}},e._l(t.allAnswers,function(t,r){return s("li",{key:r},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.userAnswers[n],expression:"userAnswers[index]"}],attrs:{type:"radio",name:"q"+n},domProps:{value:t,checked:e._q(e.userAnswers[n],t)},on:{change:function(s){e.$set(e.userAnswers,n,t)}}}),e._v(" "),s("label",{class:{correct:e.isCorrect[""+n]&&e.gameOver,incorrect:!e.isCorrect[""+n]&&e.gameOver},attrs:{for:"answer"},domProps:{innerHTML:e._s(t)}})])}))])}),e._v(" "),s("button",{attrs:{id:"checkAnswers",type:"submit"}},[e._v("Check Answers!")])],2)]):e._e(),e._v(" "),e.score?s("p",{attrs:{id:"score"}},[e._v("Your score is "+e._s(e.score)+" out of "+e._s(e.numQuestions)+"!")]):e._e()])},staticRenderFns:[]};var g=s("VU/8")(m,_,!1,function(e){s("gozr")},"data-v-74ff97d8",null).exports;n.a.use(o.a);var y=new o.a({routes:[{path:"/",name:"Quiz",component:g}]}),w=s("yXtV"),b=s.n(w),C=s("3EgV"),k=s.n(C),q=s("IHMs"),A=s.n(q);n.a.use(k.a,{theme:{primary:A.a.red.darken1,secondary:A.a.red.lighten4,accent:A.a.indigo.base}});n.a.use(b.a,{namespace:"trivia__"}),n.a.config.productionTip=!1,new n.a({el:"#app",router:y,components:{App:i},template:"<App/>"})},gozr:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.7615dc5abc8ac5501d48.js.map